<!-- https://aframe.io/docs/1.2.0/introduction/html-and-primitives.html -->
<!-- attention : la physic ne marche plus avec la 1.2.0 _ bug en cours de rÃ©solution -->
<html>

<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <!-- <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script> -->
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script> -->
    <script>
        var affiche = false
        AFRAME.registerComponent("foo", {
            tick : function () {
                let box = document.querySelector("a-box")
                var position = box.getAttribute('position');
                console.log(position.y)
                if (position.y < 1 && affiche == false) { 
                    let image = document.querySelector("a-image")
                    image.setAttribute("visible", !image.getAttribute("visible")) 
                    affiche = true;
                }  
            }
        })
    </script>
</head>

<body>
    <a-scene background="color: #5280A7" physics="debug: true">
        <a-assets>
            <img id="message_1" src="./message_1.png">
        </a-assets>


        <!-- Dynamic box -->
        <a-box id="a-box" foo position="-1 4 -3" rotation="0 45 0" color="#4CC3D9" dynamic-body></a-box>

        <!-- Immovable box -->
        <!-- <a-box position="1 2 -3" rotation="0 45 0" color="#grey" static-body></a-box> -->

        <!-- Using the asset management system. -->
        <a-image src="#message_1" position="-0 3 -3" scale="3 1 1" visible="false"></a-image>

        <!-- Floor -->
        <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" static-body></a-plane>

        <!-- Camera -->
        <a-camera></a-camera>

    </a-scene>
</body>

</html>